import { NextResponse } from "next/server"; import { z } from "zod"; const schema=z.object({ place_id:z.number(), visited:z.boolean().optional(), rating:z.number().int().min(1).max(5).optional(), visited_at:z.string().optional() }); export async function POST(req:Request){ const json=await req.json().catch(()=>null); const p=schema.safeParse(json); if(!p.success) return NextResponse.json({ error:p.error.flatten() },{status:400}); return NextResponse.json({ ok:true }); }
