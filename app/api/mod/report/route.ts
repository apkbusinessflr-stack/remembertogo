import { NextResponse } from "next/server"; import { z } from "zod"; const schema=z.object({ target_type:z.enum(["place","tip","photo","list"]), target_id:z.number(), reason:z.string().min(3) }); export async function POST(req:Request){ const json=await req.json().catch(()=>null); const p=schema.safeParse(json); if(!p.success) return NextResponse.json({ error:p.error.flatten() },{status:400}); return NextResponse.json({ queued:true }); }
